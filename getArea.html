<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>

        // 다각형의 넓이 구하기

        // getSize 객체 생성(네임 스페이스 설정))
        const getSize = {};
        getSize.callNames = ["circle", "rect", "trapezoid", "cylinder"];
        getSize.callCountTotal = 0; // 총 메소드 호출횟수 설정

        // getArea 메소드 정의
        getSize.getArea = function (args) {
            this.callNameList = [] // 호출 메소드 이름 배열 생성
            this.callNameList.push("getArea"); // getArea 메소드 이름 배열 추가
            this.callCount = 0;

            const input = Array.from(arguments);

            let shape = input[0]; // 인자 리스트의 첫 번째 값을 도형 변수에 할당 

            // 도형 이름 입력 확인 및 불일치 시 메시지 촐력 및 메소드 종료(includes 메소드 사용)
            if (!this.callNames.includes(shape)) {
                console.log("올바른 도형의 이름을 입력하세요.")
                return;
            }
            this.callCountTotal += 1; // 총 메소드 호출횟수 누적
            this.callCount += 1; // 현재 메소드 호출횟수 누적

            // 입력한 인자 개수 확인 후 각 도형의 넓이 구하는 메소드 호출, 실행
            // 인자 개수 불일치 시 메시지 출력 후 메소드 종료
            if (shape === "circle" && input.length === 2) {
                this.getCircleSize(input[1]);
            } else if (shape === "rect" && input.length === 3) {
                this.getSquareSize(input[1], input[2]);
            } else if (shape === "trapezoid" && input.length === 4) {
                this.getRectangleSize(input[1], input[2], input[3]);
            } else if (shape === "cylinder" && input.length === 3) {
                this.getCylinderSize(input[1], input[2], input[3]);
            } else {
                console.log("올바른 개수의 숫자를 입력하세요.");
                return
            }
            this.printExecutionSequence(shape); // 메소드 호출 순서 및 횟수를 표시하는 메소드 실행
        }

        // 각 도형의 넓이를 구하는 메소드
        // 인자가 숫자가 아닌 경우 메시지 출력 및 메소드 종료

        // 원의 넓이 구하기 메소드
        getSize.getCircleSize = function (radius) {
            if (typeof radius != "number") {
                console.log("숫자만 넣을 수 있습니다.");
                return;
            }
            const circleSize = radius * radius * Math.PI;
            console.log("\n원의 넓이: " + circleSize + "(반지름: " + radius + ")" );
            return circleSize;
        }
        // 사각형의 넓이 구하기 메소드
        getSize.getSquareSize = function (width, height) {
            if (typeof width != "number" || typeof height != "number") {
                console.log("숫자만 넣을 수 있습니다.");
                return;
            }
            const squareSize = width * height;
            console.log("\n사각형의 넓이: " + squareSize + "(너비: " + width + " , 높이: " + height + ")" );
            return squareSize;
        }

        // 사다리꼴의 넓이 구하기 메소드
        getSize.getRectangleSize = function (upperSide, lowerSide, height) {
            if (typeof upperSide != "number" || typeof lowerSide != "number" ||
                typeof height != "number") {
                console.log("숫자만 넣을 수 있습니다.");
                return;
            }
            const rectangleSize = (upperSide + lowerSide) * height / 2;
            console.log("\n사다리꼴의 넓이: " + rectangleSize + "(윗변: " + upperSide + ", 아랫변: " + lowerSide + ", 높이: " + height + ")" );
            return rectangleSize;
        }

        // 원기둥의 넓이 구하기 메소드
        getSize.getCylinderSize = function (radius, height) {
            if (typeof radius != "number" || typeof height != "number") {
                console.log("숫자만 넣을 수 있습니다.");
                return;
            }
            const CylinderSize = (radius * radius * Math.PI * 2) + (radius * 2 * Math.PI * height);
            console.log("\n원기둥의 넓이: " + CylinderSize + "(반지름: " + radius + " 너비: " + radius * 2 * Math.PI + " , 높이: " + height + ")" );
            return CylinderSize;
        }
        // 메소드 호출 횟수 및 호출 순서를 표시하는 메소드
        getSize.printExecutionSequence = function (callName) {
            this.callNameList.push(callName);
            this.callCountTotal += 1; // 호출된 메소드 총 횟수 누적
            this.callCount += 1; // 호출된 메소드 횟수 누적
            console.log("실행횟수: " + this.callCount);
            console.log("총 실행횟수: " + this.callCountTotal);
            console.log("실행순서:\n" + this.callNameList.join("\n"));
        }

        // 각 도형의 넓이를 구하는 메소드 실행
        getSize.getArea("circle", 10);
        getSize.getArea("rect", 10, 20);
        getSize.getArea("trapezoid", 10, 20, 30);
        getSize.getArea("cylinder", 10, 20);

    </script>

</body>

</html>